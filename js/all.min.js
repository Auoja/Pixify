!function(){var i=angular.module("pixifyApp",[]);i.controller("pixifyController",["$scope",function(i){function e(e){var t=new FileReader;t.onload=function(e){var t=new Image;t.onload=function(){n=new Pixify({canvas:o,image:t}),i.update()},t.src=e.target.result},t.readAsDataURL(e.target.files[0])}var n,o=document.getElementById("canvas"),t=document.getElementById("imageLoader");i.pixifyForm={},i.pixifyForm.pixelSize,i.pixifyForm.pixelGap,i.pixifyForm.sunPosition="top-left",i.pixifyForm.orientation="lying",t.addEventListener("change",e,!1),i.update=function(){n&&(n.setPixelGap(parseInt(i.pixifyForm.pixelGap)),n.setPixelSize(parseInt(i.pixifyForm.pixelSize)),n.setSunPosition(i.pixifyForm.sunPosition),"lying"===i.pixifyForm.orientation?n.renderHorizontal():n.renderVertical())}}])}();